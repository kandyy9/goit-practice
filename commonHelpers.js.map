{"version":3,"file":"commonHelpers.js","sources":["../src/js/ls-helpers.js","../src/js/refs.js","../src/js/constants.js","../src/js/immediateMarkup.js","../src/js/delElement.js","../src/main.js"],"sourcesContent":["export function getFromLocalStorage(key){\n  const allValue = JSON.parse(localStorage.getItem(key));\n  return allValue;\n}\n\nexport function setToLocalStorage(value, key) {\n  localStorage.setItem(key, JSON.stringify(value));\n}","export default {\n  taskForm: document.querySelector('#task-form'),\n  taskList: document.querySelector('#task-list'),\n};\n","export const taskKey = 'task_key';\n","import { getFromLocalStorage } from './ls-helpers';\nimport { taskKey } from './constants';\nimport refs from './refs';\n// import { getFromLocalStorage } from './ls-helpers';\nexport function immediateMarkup() {\n  const items = getFromLocalStorage(taskKey);\n  if (!items) return;\n  const markup = items\n    .map(item => {\n      return `<li id=\"${item.id}\">${item.text} <button class=\"close-btn\" type=\"button\">X</button></li>`;\n    })\n    .join('');\n  refs.taskList.insertAdjacentHTML('beforeend', markup);\n}\n","import { getFromLocalStorage, setToLocalStorage } from './ls-helpers';\n\nexport function delElement(elemOfList, taskKey) {\n  elemOfList.addEventListener('click', evt => {\n    if (!evt.target.classList.contains('close-btn')) return;\n    const id = evt.target.parentNode.id;\n    const items = getFromLocalStorage(taskKey);\n    const filteredItems = items.filter(item => item.id !== id);\n    setToLocalStorage(filteredItems, taskKey);\n    evt.target.parentNode.remove();\n  });\n}\n","import { nanoid } from 'nanoid';\nimport { getFromLocalStorage, setToLocalStorage } from './js/ls-helpers';\nimport refs from './js/refs';\nimport { taskKey } from './js/constants';\nimport { immediateMarkup } from './js/immediateMarkup';\nimport { delElement } from './js/delElement';\n//TODO-1\n// Напишіть логіку обробнику подій по сабміту\n// При сабміті треба у змінну записувати значення поля інпута\n// Повинна бути перевірка на порожнє поле.\ndelElement(refs.taskList, taskKey);\nimmediateMarkup();\nrefs.taskForm.addEventListener('submit', evt => {\n  evt.preventDefault();\n  const value = evt.target.elements.taskName.value.trim();\n  if (!value) return;\n  const id = nanoid();\n  addItem(value, id);\n  addLocalStorage(value, id);\n  evt.target.reset();\n});\n\nfunction addItem(item, id) {\n  refs.taskList.insertAdjacentHTML(\n    'beforeend',\n    `<li id=\"${id}\">${item} <button class=\"close-btn\" type=\"button\">X</button></li>`\n  );\n}\n\n//TODO-3\n// Написати функцію, яка при сабміті буде зберігати данні в сховище по ключу task_key, в сховище повинні додаватись таски,\n// а не перезаписуватись існуюча\n\nfunction addLocalStorage(value, id) {\n  const allValue = getFromLocalStorage(taskKey) ?? [];\n  allValue.push({ id, text: value });\n  setToLocalStorage(allValue, taskKey);\n}\n\n//TODO-4\n//Відформатуйте код таким чином, щоб данні в сховищі зберігались у вигляді об'єкта { id: value, text: value}, розмітка додавалась з айдішніком на елемент списку li, айдішнік генерувати з допомогою бібліотеки nanoid, її треба встановити\n\n//TODO-5\n// Написати функцію, яка буде при завантаженні сторінки відмальовувати розмітку беручи данні з ЛС\n"],"names":["getFromLocalStorage","key","setToLocalStorage","value","refs","taskKey","immediateMarkup","items","markup","item","delElement","elemOfList","evt","id","filteredItems","nanoid","addItem","addLocalStorage","allValue"],"mappings":"svBAAO,SAASA,EAAoBC,EAAI,CAEtC,OADiB,KAAK,MAAM,aAAa,QAAQA,CAAG,CAAC,CAEvD,CAEO,SAASC,EAAkBC,EAAOF,EAAK,CAC5C,aAAa,QAAQA,EAAK,KAAK,UAAUE,CAAK,CAAC,CACjD,CCPA,MAAeC,EAAA,CACb,SAAU,SAAS,cAAc,YAAY,EAC7C,SAAU,SAAS,cAAc,YAAY,CAC/C,ECHaC,EAAU,WCIhB,SAASC,GAAkB,CAChC,MAAMC,EAAQP,EAAoBK,CAAO,EACzC,GAAI,CAACE,EAAO,OACZ,MAAMC,EAASD,EACZ,IAAIE,GACI,WAAWA,EAAK,EAAE,KAAKA,EAAK,IAAI,0DACxC,EACA,KAAK,EAAE,EACVL,EAAK,SAAS,mBAAmB,YAAaI,CAAM,CACtD,CCXO,SAASE,EAAWC,EAAYN,EAAS,CAC9CM,EAAW,iBAAiB,QAASC,GAAO,CAC1C,GAAI,CAACA,EAAI,OAAO,UAAU,SAAS,WAAW,EAAG,OACjD,MAAMC,EAAKD,EAAI,OAAO,WAAW,GAE3BE,EADQd,EAAoBK,CAAO,EACb,OAAOI,GAAQA,EAAK,KAAOI,CAAE,EACzDX,EAAkBY,EAAeT,CAAO,EACxCO,EAAI,OAAO,WAAW,QAC1B,CAAG,CACH,CCDAF,EAAWN,EAAK,SAAUC,CAAO,EACjCC,IACAF,EAAK,SAAS,iBAAiB,SAAUQ,GAAO,CAC9CA,EAAI,eAAc,EAClB,MAAMT,EAAQS,EAAI,OAAO,SAAS,SAAS,MAAM,OACjD,GAAI,CAACT,EAAO,OACZ,MAAMU,EAAKE,IACXC,EAAQb,EAAOU,CAAE,EACjBI,EAAgBd,EAAOU,CAAE,EACzBD,EAAI,OAAO,OACb,CAAC,EAED,SAASI,EAAQP,EAAMI,EAAI,CACzBT,EAAK,SAAS,mBACZ,YACA,WAAWS,CAAE,KAAKJ,CAAI,0DAC1B,CACA,CAMA,SAASQ,EAAgBd,EAAOU,EAAI,CAClC,MAAMK,EAAWlB,EAAoBK,CAAO,GAAK,CAAA,EACjDa,EAAS,KAAK,CAAE,GAAAL,EAAI,KAAMV,CAAO,CAAA,EACjCD,EAAkBgB,EAAUb,CAAO,CACrC"}